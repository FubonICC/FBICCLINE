from flask import Flask, request, abort

from linebot import (
    LineBotApi, WebhookHandler
)
from linebot.exceptions import (
    InvalidSignatureError
)
from linebot.models import *


#======é€™è£¡æ˜¯å‘¼å«çš„æª”æ¡ˆå…§å®¹=====
from message import *
from new import *
from Function import *
#======é€™è£¡æ˜¯å‘¼å«çš„æª”æ¡ˆå…§å®¹=====

#======pythonçš„å‡½æ•¸åº«==========
import tempfile, os
import datetime
import time
#======pythonçš„å‡½æ•¸åº«==========
#======è®“herokuä¸æœƒç¡è‘—======
import threading 
import requests
def wake_up_heroku():
    while 1==1:
        url = ' https://navy-dw.herokuapp.com/' + 'heroku_wake_up'
        res = requests.get(url)
        if res.status_code==200:
            print('å–šé†’herokuæˆåŠŸ')
        else:
            print('å–šé†’å¤±æ•—')
        time.sleep(28*60)

threading.Thread(target=wake_up_heroku).start()
#======è®“herokuä¸æœƒç¡è‘—======

app = Flask(__name__)
static_tmp_path = os.path.join(os.path.dirname(__file__), 'static', 'tmp')
# Channel Access Token
line_bot_api = LineBotApi('VZZP9zRYy4OYEUW/6Myjr7XlxJuldLu/PX4d7k2gQ2PK6pDqSjbOklZLw0iF9qM2x4R/GIhwpp6s1Dc7nmXnPGI6AHwyMGY6LytHWeUmLh95bul74HVSPrvuNDsqoj8T9/OzYyVhTE2j2SVlDSKNfAdB04t89/1O/w1cDnyilFU=')
# Channel Secret
handler = WebhookHandler('03bec986bf0c59bae80cdcb373b6fde4')


# ç›£è½æ‰€æœ‰ä¾†è‡ª /callback çš„ Post Request
@app.route("/callback", methods=['POST'])
def callback():
    # get X-Line-Signature header value
    signature = request.headers['X-Line-Signature']
    # get request body as text
    body = request.get_data(as_text=True)
    app.logger.info("Request body: " + body)
    # handle webhook body
    try:
        handler.handle(body, signature)
    except InvalidSignatureError:
        abort(400)
    return 'OK'


# è™•ç†è¨Šæ¯
@handler.add(MessageEvent, message=TextMessage)
def handle_message(event):
    msg = event.message.text
    if 'æœ€æ–°åˆä½œå» å•†' in msg:
        message = imagemap_message()
        line_bot_api.reply_message(event.reply_token, message)
    elif 'æˆ‘è¦å ±å' in msg:
        message = buttons_message()
        line_bot_api.reply_message(event.reply_token, message)
    elif 'è¨»å†Šæœƒå“¡' in msg:
        message = Confirm_Template()
        line_bot_api.reply_message(event.reply_token, message)
    elif 'æµ·è»è‰¦éšŠ' in msg:
        message = Carousel_Template1()
        line_bot_api.reply_message(event.reply_token, message)
    elif 'æµ·è»é™¸æˆ°éšŠ' in msg:
        message = Carousel_Template2()
        line_bot_api.reply_message(event.reply_token, message)
    elif 'é™¸å²¸' in msg:
        message = Carousel_Template3()
        line_bot_api.reply_message(event.reply_token, message)
    elif 'æµ·è»å½±ç‰‡' in msg:
        message = test()
        line_bot_api.reply_message(event.reply_token, message)
    elif 'åŠŸèƒ½åˆ—è¡¨' in msg:
        message = function_list()
        line_bot_api.reply_message(event.reply_token, message)
    elif 'å·¦ç‡Ÿè»æ¸¯' in msg:
        message = LocationSendMessage(
            title="å·¦ç‡Ÿè»æ¸¯",
            address="å·¦ç‡Ÿæµ·è»åŸºåœ°",
            latitude="22.6931019",
            longitude="120.2607194"
         )
        line_bot_api.reply_message(event.reply_token, message)
    elif 'è˜‡æ¾³è»æ¸¯' in msg:
        message = LocationSendMessage(
            title="è˜‡æ¾³è»æ¸¯",
            address="ä¸­æ­£è»æ¸¯",
            latitude="24.6018080",
            longitude="121.8792230"
         )
        line_bot_api.reply_message(event.reply_token, message)
    elif 'åŸºéš†è»æ¸¯' in msg:
        message = LocationSendMessage(
            title="åŸºéš†è»æ¸¯",
            address="å¨æµ·ç‡Ÿå€",
            latitude="25.1363810",
            longitude="121.7471660"
         )
        line_bot_api.reply_message(event.reply_token, message)
    elif 'é¦¬å…¬è»æ¸¯' in msg:
        message = LocationSendMessage(
            title="é¦¬å…¬åŸºåœ°",
            address="é¦¬å…¬æ¸¯",
            latitude="23.5541179",
            longitude="119.5635929"
         )
        line_bot_api.reply_message(event.reply_token, message)
    elif 'è–ªæ°´' in msg:    
        message = TextSendMessage(text="â˜…111å¹´åº¦åœ‹è»åŸºæœ¬è–ªè³‡çµæ§‹â˜…\n-----å£«å…µ-----\näºŒå…µï¼ˆ1ç´šï¼‰\næœ¬ä¿¸åŠ çµ¦ï¼š10130\nå°ˆæ¥­åŠ çµ¦ï¼š15190\nå¿—é¡˜åŠ çµ¦ï¼š10000\nåˆè¨ˆåº•è–ªï¼š35320å…ƒ\n \nä¸€å…µï¼ˆ1ç´šï¼‰\næœ¬ä¿¸åŠ çµ¦ï¼š10910\nå°ˆæ¥­åŠ çµ¦ï¼š16130\nå¿—é¡˜åŠ çµ¦ï¼š10000\nåˆè¨ˆåº•è–ªï¼š37040å…ƒ\n  \nä¸Šå…µï¼ˆ1ç´šï¼‰\næœ¬ä¿¸åŠ çµ¦ï¼š11690\nå°ˆæ¥­åŠ çµ¦ï¼š17080\nå¿—é¡˜åŠ çµ¦ï¼š10000\nåˆè¨ˆåº•è–ªï¼š38770å…ƒ\n  \n-----å£«å®˜-----\nä¸‹å£«ï¼ˆ1ç´šï¼‰\næœ¬ä¿¸åŠ çµ¦ï¼š12470\nå°ˆæ¥­åŠ çµ¦ï¼š18980\nå¿—é¡˜åŠ çµ¦ï¼š10000\nåˆè¨ˆåº•è–ªï¼š41450å…ƒ\n \nä¸­å£«ï¼ˆ1ç´šï¼‰\næœ¬ä¿¸åŠ çµ¦ï¼š16210\nå°ˆæ¥­åŠ çµ¦ï¼š19050\nå¿—é¡˜åŠ çµ¦ï¼š10000\nåˆè¨ˆåº•è–ªï¼š45260å…ƒ\n \nä¸Šå£«ï¼ˆ1ç´šï¼‰\næœ¬ä¿¸åŠ çµ¦ï¼š19780\nå°ˆæ¥­åŠ çµ¦ï¼š19110\nå¿—é¡˜åŠ çµ¦ï¼š10000\nåˆè¨ˆåº•è–ªï¼š48890å…ƒ\n \nä¸‰ç­‰å£«å®˜é•·ï¼ˆ1ç´šï¼‰\næœ¬ä¿¸åŠ çµ¦ï¼š21200\nå°ˆæ¥­åŠ çµ¦ï¼š20260\nå¿—é¡˜åŠ çµ¦ï¼š10000\nåˆè¨ˆåº•è–ªï¼š51460å…ƒ\n \näºŒç­‰å£«å®˜é•·ï¼ˆ1ç´šï¼‰\næœ¬ä¿¸åŠ çµ¦ï¼š23350\nå°ˆæ¥­åŠ çµ¦ï¼š22280\nå¿—é¡˜åŠ çµ¦ï¼š10000\nåˆè¨ˆåº•è–ªï¼š55630å…ƒ\n \nä¸€ç­‰å£«å®˜é•·ï¼ˆ1ç´šï¼‰\næœ¬ä¿¸åŠ çµ¦ï¼š26920\nå°ˆæ¥­åŠ çµ¦ï¼š23270\nå¿—é¡˜åŠ çµ¦ï¼š10000\nåˆè¨ˆåº•è–ªï¼š60190å…ƒ\n \n-----è»å®˜-----\nå°‘å°‰ï¼ˆ1ç´šï¼‰\næœ¬ä¿¸åŠ çµ¦ï¼š21200\nå°ˆæ¥­åŠ çµ¦ï¼š19360\nå¿—é¡˜åŠ çµ¦ï¼š10000\nåˆè¨ˆåº•è–ªï¼š50560å…ƒ\n \nä¸­å°‰ï¼ˆ1ç´šï¼‰\næœ¬ä¿¸åŠ çµ¦ï¼š23350\nå°ˆæ¥­åŠ çµ¦ï¼š20260\nå¿—é¡˜åŠ çµ¦ï¼š10000\nåˆè¨ˆåº•è–ªï¼š53610å…ƒ\n \nä¸Šå°‰ï¼ˆ1ç´šï¼‰\næœ¬ä¿¸åŠ çµ¦ï¼š26920\nå°ˆæ¥­åŠ çµ¦ï¼š22280\nå¿—é¡˜åŠ çµ¦ï¼š10000\nåˆè¨ˆåº•è–ªï¼š59200å…ƒ\n \n\nå°‘æ ¡ï¼ˆ1ç´šï¼‰\næœ¬ä¿¸åŠ çµ¦ï¼š30490\nå°ˆæ¥­åŠ çµ¦ï¼š23270\nå¿—é¡˜åŠ çµ¦ï¼š10000\nåˆè¨ˆåº•è–ªï¼š63760å…ƒ" )
        line_bot_api.reply_message(event.reply_token, message)   
    elif '%124' or 'ä¸€äºŒå››'in msg:     
        message = TextSendMessage(text="âš“ æµ·è»ä¸€äºŒå››è‰¦éšŠ âš“\né§åœ°ï¼šå·¦ç‡Ÿè»æ¸¯\nä¸»åŠ›è»è‰¦ï¼š\nğŸ‡¹ğŸ‡¼åº·å®šç´šé£›å½ˆå·¡é˜²è‰¦ğŸ‡¹ğŸ‡¼\nä¾æµ·è»ã€Œå…‰è¯2è™Ÿè¨ˆç•«ã€ï¼Œç”±æ³•åœ‹æµ·è»é€ è‰¦å±€æ‰¿é€ ï¼Œ85å¹´5æœˆç¬¬ä¸€è‰˜ã€Œåº·å®šè‰¦ã€è¿”åœ‹ã€‚è©²å‹è‰¦æ»¿è¼‰æ’æ°´é‡ç‚º3,680å™¸ï¼Œä»¥å››éƒ¨æŸ´æ²¹ä¸»æ©Ÿæ¨å‹•ï¼Œæœ€é«˜èˆªé€Ÿ25ç¯€ã€‚\n-âš“åŒç´šè‰¦(èˆ·è™Ÿ)âš“-\nåº·å®šè»è‰¦(PFG-1202)\nè¥¿å¯§è»è‰¦(PFG-1203)\næ˜†æ˜è»è‰¦(PFG-1205)\nè¿ªåŒ–è»è‰¦(PFG-1206)\næ­¦æ˜Œè»è‰¦(PFG-1207)\næ‰¿å¾·è»è‰¦(PFG-1208)\nğŸ’°è–ªè³‡å¾…é‡ğŸ’°\næˆ°é¬¥åŠ çµ¦ï¼š5000å…ƒ\næµ·å‹¤åŠ çµ¦(å£«å…µ)ï¼š4000å…ƒ\næµ·å‹¤åŠ çµ¦(å£«å®˜)ï¼š17500å…ƒ\nğŸ’å„éšå¾…é‡ğŸ’\nå£«å…µèµ·è–ªï¼š44320å…ƒ\nå£«å®˜èµ·è–ªï¼š63950å…ƒ\nè»å®˜èµ·è–ªï¼š73060å…ƒ" )
        line_bot_api.reply_message(event.reply_token, message)   
    elif '%131'in msg:     
        message = TextSendMessage(text="âš“ æµ·è»ä¸€ä¸‰ä¸€è‰¦éšŠ âš“\né§åœ°ï¼šåŸºéš†è»æ¸¯\nä¸»åŠ›è»è‰¦ï¼š\nğŸ‡¹ğŸ‡¼éŒ¦æ±Ÿç´šå·¡é‚è‰¦ğŸ‡¹ğŸ‡¼\nä¸­è¯æ°‘åœ‹æµ·è»èˆ‡è¯åˆèˆ¹èˆ¶è¨­è¨ˆç™¼å±•ä¸­å¿ƒåƒè€ƒæµ·é—œè³¼è‡ªè·è˜­çš„ç·ç§è‰¦ï¼ˆè¬€æ˜Ÿè‰¦ã€ç¦æ˜Ÿè‰¦ï¼Œç¾å·²ç§»äº¤æµ·å·¡ç½²ä½¿ç”¨ï¼‰çš„è¨­è¨ˆï¼Œä¸¦ç”±åœ‹å…§è¯åˆé€ èˆ¹å» ï¼ˆå·²è¢«ä¸­ä¿¡é€ èˆ¹è³¼ä½µï¼‰å»ºé€ è€Œæˆçš„500å™¸ç´šå·¡é‚è‰¦ï¼Œç”¨æ–¼è¿‘æµ·å·¡é‚ä¹‹ç”¨ã€‚\nğŸ“ƒå‘½åæ–¹å¼ğŸ“ƒ\néŒ¦æ±Ÿç´šè‰¦å¾Œä¾æˆè»æ™‚é–“æ’åˆ—è¨ˆæœ‰æ·¡æ±Ÿï¼ˆæ·¡æ°´æ²³ï¼‰ã€æ–°æ±Ÿï¼ˆæ–°åº—æºªï¼‰ã€é³³æ±Ÿï¼ˆé³³å±±æºªï¼‰ã€æ›¾æ±Ÿï¼ˆæ›¾æ–‡æºªï¼‰ã€é«˜æ±Ÿï¼ˆé«˜å±æºªï¼‰ã€é‡‘æ±Ÿã€æ¹˜æ±Ÿã€è³‡æ±Ÿã€é„±æ±Ÿã€æ˜Œæ±Ÿã€ç æ±Ÿåˆè¨ˆ11è‰˜ï¼Œå‰å…­è‰¦ä¹‹å‘½åä¿‚ä»¥æœ¬å³¶å„å¤§åå·ç‚ºä¸»ï¼Œé„±æ±Ÿã€æ˜Œæ±Ÿã€ç æ±Ÿç­‰å¾Œä¸‰è‰¦ä¹‹å‘½åä¿‚æºæ–¼æµ·è»å‰æœŸæ±°é™¤ä¹‹æˆ°åŠŸè‰¦ï¼Œä»¥è³‡ç´€å¿µï¼Œä¸¦ä½œç‚ºå¾ŒçºŒè‰¦ä¸Šå®˜å…µä¹‹æœŸè¨±ï¼Œç¹¼å¿—æˆçƒˆï¼Œæƒ•å‹µå¥®ç™¼ï¼Œå·²æè¡›æˆ‘æµ·ç–†ï¼ŒåŒç´šè‰¦å‹å…±è¨ˆ12è‰˜ã€‚\n-âš“åŒç´šè‰¦(èˆ·è™Ÿ)âš“-\néŒ¦æ±Ÿè‰¦(PGG-603)(å·²é™¤å½¹)\næ·¡æ±Ÿè‰¦(PGG-605)\næ–°æ±Ÿè‰¦(PGG-606)\né³³æ±Ÿè‰¦(PGG-607)\næ›¾æ±Ÿè‰¦(PGG-608)\né«˜æ±Ÿè‰¦(PGG-609)\né‡‘æ±Ÿè‰¦(PGG-610)\næ¹˜æ±Ÿè‰¦(PGG-611)\nè³‡æ±Ÿè‰¦(PGG-612)\né„±æ±Ÿè‰¦(PGG-614)\næ˜Œæ±Ÿè‰¦(PGG-615)\nç æ±Ÿè‰¦(PGG-617)\n \n \nğŸ‡¹ğŸ‡¼æ²±æ±Ÿç´šå·¡é‚è‰¦ğŸ‡¹ğŸ‡¼\nä¸­è¯æ°‘åœ‹æµ·è»çš„åŒ¿è¹¤é›™èˆ¹é«”é£›å½ˆå·¡é‚è‰¦ï¼Œå¯èˆ‡å…‰è¯å…­è™Ÿé£›å½ˆå¿«è‰‡æ··ç·¨åŸ·è¡Œåè‰¦èˆ‡åèˆ¹åœ˜ä»»å‹™ï¼Œä¹Ÿå› åŒ¿è¹¤ã€å¿«é€Ÿã€ç«åŠ›å¼·ç­‰ç‰¹æ€§è€Œè¢«è­½ç‚ºã€Œèˆªæ¯æ®ºæ‰‹ã€ã€‚\nğŸ“ƒå‘½åæ–¹å¼ğŸ“ƒ\næ°‘åœ‹47å¹´8æœˆ23æ—¥èµ·å…±è»æ—¥ä»¥ç¹¼å¤œç ²è½Ÿé‡‘é–€ï¼Œæ•µè‰¦ä¸¦çŒè¥²æ–™ç¾…ç£ï¼Œåœ¨9æœˆ2æ—¥çš„æµ·æˆ°ä¸­ï¼Œ æˆ‘æµ·è»ã€Œç¶­æºã€ã€ã€ŒæŸ³æ±Ÿã€ã€ ã€Œæ²±æ±Ÿã€ã€ã€Œç¾é Œã€å››è‰¦æ“Šæ²‰æ•µå„å¼è‰¦è‰‡12è‰˜ï¼Œå…¶ä¸­ä»¥æ²±æ±Ÿè»è‰¦æ“Šæ²‰ä¸­å…±è‰¦è‰‡5è‰˜ã€é‡å‚·2è‰˜ï¼Œæˆ°æœæœ€ç‚ºè¼ç…Œï¼Œä¸¦ç²é ’æµ·è»ç¬¬ä¸€é¢æ¦®è­½è™æ——ã€‚\nç‚ºç´€å¿µã€Œä¹äºŒæµ·æˆ°ã€ä¸­é‡å‰µæ•µè‰¦ä¹‹æ²±æ±Ÿè»è‰¦ï¼Œæ°‘åœ‹104å¹´4æœˆ3æ—¥ç”±åœ‹äººè¨­è¨ˆå»ºé€ ç·¨è™Ÿ618ä¹‹ã€Œé«˜æ•ˆèƒ½åŸå‹è‰¦ã€ï¼Œå‘½åç‚ºã€Œæ²±æ±Ÿè»è‰¦ã€æ­£å¼æˆè»ï¼ŒæœŸèƒ½æ‰¿çºŒæ²±æ±Ÿè»è‰¦å…‰æ¦®å‚³çµ±ï¼Œæ“”è² èµ·è­·è¡›æµ·ç–†çš„é‡è²¬å¤§ä»»ï¼Œå†å‰µæ²±æ±Ÿçš„å…‰æ¦®å²é ã€‚\n-âš“åŒç´šè‰¦(èˆ·è™Ÿ)âš“-\næ²±æ±Ÿè‰¦(PGG-618)\n  \n  \nğŸ‡¹ğŸ‡¼å¡”æ±Ÿç´šå·¡é‚è‰¦ğŸ‡¹ğŸ‡¼\nä¸­è¯æ°‘åœ‹æµ·è»æ²±æ±Ÿç´šå·¡é‚è‰¦äºŒè™Ÿè‰¦ï¼Œç°¡ç¨±å¡”æ±Ÿè‰¦ã€å¡”æ±Ÿè»è‰¦ï¼Œç‚ºæœ€åˆä¸­è¯æ°‘åœ‹æµ·è»è‡ª2014å¹´é–‹å§‹è¦åŠƒä¹‹åäºŒé …é€ è‰¦è¨ˆç•«ä¹‹ä¸€ï¼Œä¸­è¯æ°‘åœ‹æµ·è»ç¨±æ­¤è¨ˆåŠƒç‚ºã€Œé«˜æ•ˆèƒ½è‰¦è‰‡å¾ŒçºŒé‡ç”¢ï¼ˆæ‰¿æµ·è¨ˆåŠƒï¼‰ã€ï¼Œç”±æ–¼èˆ‡é¦–è‰¦æ²±æ±Ÿè™Ÿé —æœ‰å·®ç•°ï¼Œå› æ­¤ä¹Ÿæœ‰å°‡å¡”æ±Ÿè‰¦ç‚ºé¦–è‰¦å¦æˆä¸€ç´šæˆç‚ºã€Œå¡”æ±Ÿç´šå·¡é‚è‰¦ã€\nğŸ“ƒå‘½åæ–¹å¼ğŸ“ƒ\nè‰¦åå‡ºè‡ªå°æ±ç¸£å¡”ç“¦æºªï¼Œå–ã€Œå¡”ã€å­—æ­é…ä¸­è¯æ°‘åœ‹æµ·è»å·¡é‚è‰¦å‘½åæ¨¡å¼ã€Œæ±Ÿã€å­—è€Œæˆï¼Œäº¦ç‚ºè‡³å¡”æ±Ÿè™Ÿç‚ºæ­¢æ­·ä¾†æ‰€ä½¿ç”¨é•·åº¦æœ€çŸ­ä¹‹æ²³å·ï¼Œä¸­è¯æ°‘åœ‹æµ·è»å¸ä»¤éƒ¨èªªæ˜ï¼Œè©²æºªæµå±¬æ’ç£æ—ç”Ÿæ´»é ˜åŸŸï¼Œè©²æ—äººå¤©æ€§å…·æœ‰ä¸ç•è‰±é›£ï¼Œç§‰æŒè‘—é©å‹‡å–„æˆ°çš„ç²¾ç¥ï¼Œè¶³å ªæœ¬è‰¦å®˜å…µæ•ˆæ³•ï¼›å¦ã€Œå¡”ã€å­—è±¡å¾´æ­¤è‰¦æ“”ä»»æµ·ä¸Šå ¡å£˜ï¼Œä¿è¡›æ°‘ä¸»è‡ªç”±çš„ä¸­è¯æ°‘åœ‹ï¼Œäº¦ä»£è¡¨åœ‹è‰¦åœ‹é€ å·¥ä½œç¯³è·¯è—ç¸·ï¼Œç©æ²™æˆå¡”ï¼Œæ–¹èƒ½å»ºé€ ç¬¦åˆåœ‹äººæœŸå¾…çš„å„ªç•°è‰¦è‰‡ã€‚\n-âš“åŒç´šè‰¦(èˆ·è™Ÿ)âš“-\nå¡”æ±Ÿè‰¦(PGG-619)\n  \n \nğŸ‡¹ğŸ‡¼å…‰è¯å…­è™Ÿé£›å½ˆå¿«è‰‡ğŸ‡¹ğŸ‡¼\nç°¡ç¨±å…‰å…­ï¼Œç‚ºå°ç£åœ‹éš›é€ èˆ¹ï¼ˆCSBCï¼Œç°¡ç¨±ç‚ºå°èˆ¹ï¼Œ2007å¹´å‰åç‚ºä¸­åœ‹é€ èˆ¹å…¬å¸ï¼‰ç‚ºä¸­è¯æ°‘åœ‹æµ·è»è£½é€ çš„é£›å½ˆå¿«è‰‡ï¼Œéš¸å±¬æµ·è»ä¸€ä¸‰ä¸€è‰¦éšŠï¼Œå±¬æ–¼è¿‘å²¸ä½œæˆ°æ‰“æ“Šå…µåŠ›ã€‚\nğŸ“ƒå‘½åæ–¹å¼ğŸ“ƒ  \n èˆ‡æµ·é·—é£›å½ˆå¿«è‰‡ç›¸åŒï¼Œå…‰å…­è‰‡ä¹Ÿåƒ…ä»¥ç·¨è™Ÿå€åˆ¥è€Œç„¡å‘½åï¼Œå…±è¨ˆ31è‰˜ã€‚\n-âš“åŒç´šè‰¦èˆ·è™Ÿâš“-\nFACG-60~66\nFACG-68~75\nFACG-77~84\nFACG-86~93\n \nğŸ’°è–ªè³‡å¾…é‡ğŸ’°\næˆ°é¬¥åŠ çµ¦ï¼š5000å…ƒ\næµ·å‹¤åŠ çµ¦(å£«å…µ)ï¼š4000å…ƒ\næµ·å‹¤åŠ çµ¦(å£«å®˜)ï¼š17500å…ƒ\nğŸ’å„éšå¾…é‡ğŸ’\nå£«å…µèµ·è–ªï¼š44320å…ƒ\nå£«å®˜èµ·è–ªï¼š63950å…ƒ\nè»å®˜èµ·è–ªï¼š73060å…ƒ" )
        line_bot_api.reply_message(event.reply_token, message)  
    elif '%146'in msg:     
        message = TextSendMessage(text="âš“ æµ·è»ä¸€å››å…­è‰¦éšŠ âš“\né§åœ°ï¼šé¦¬å…¬è»æ¸¯\nä¸»åŠ›è»è‰¦ï¼š\nğŸ‡¹ğŸ‡¼æˆåŠŸç´šå·¡é˜²è‰¦ğŸ‡¹ğŸ‡¼\næˆåŠŸç´šå·¡é˜²è‰¦æ˜¯æµ·è»ç¾å½¹å·¡é˜²è‰¦ï¼Œç‚ºç¾åœ‹æµ·è»æ´¾é‡Œç´šå·¡é˜²è‰¦çš„ä¿®æ”¹å‹ï¼Œå…·æœ‰å„ªè¶Šéˆæ´»ä¹‹æ©Ÿå‹•åŠ›åŠç²¾è‰¯æº–ç¢ºä¹‹ç³»çµ±ï¼Œçµåˆç¾ä»£åŒ–ä¹‹æ­¦å™¨è£å‚™ï¼Œæ»¿è¶³å°æ¾é˜²è¡›ä½œæˆ°ã€Œç¸±æ·±æ·ºã€é è­¦çŸ­ã€æ±ºæˆ°å¿«ã€çš„ç‰¹æ€§éœ€æ±‚ï¼Œé”åˆ°ã€ŒæŒæ¡æ©Ÿå…ˆã€æ—©æœŸé è­¦ã€å¿«é€Ÿåæ‡‰ã€æŒ‡æ®ä½œæˆ°çš„æ•´å‚™ç›®æ¨™ã€ï¼Œé”æˆéå›ºæµ·è»ç¬¬ä¸€ç·šé˜²å‹™ç‚ºç›®æ¨™ã€‚\nğŸ“ƒå‘½åæ–¹å¼ğŸ“ƒ\næˆåŠŸç´š10è‰˜åŒå‹è‰¦ä»¥ä¸­åœ‹å¤ä»£æˆ°å°‡ä¾†å‘½åã€‚\n-âš“åŒç´šè‰¦(èˆ·è™Ÿ)âš“-\næˆåŠŸè»è‰¦(PFG-1101)\né„­å’Œè»è‰¦(PFG-1103)\nç¹¼å…‰è»è‰¦(PFG-1105)\nå²³é£›è»è‰¦(PFG-1106)\nå­å„€è»è‰¦(PFG-1107)\nç­è¶…è»è‰¦(PFG-1108)\nå¼µé¨«è»è‰¦(PFG-1109)\nç”°å–®è»è‰¦(PFG-1110)\néŠ˜å‚³è»è‰¦(PFG-1112)\né€¢ç”²è»è‰¦(PFG-1115)\nğŸ’°è–ªè³‡å¾…é‡ğŸ’°\næˆ°é¬¥åŠ çµ¦ï¼š5000å…ƒ\næµ·å‹¤åŠ çµ¦(å£«å…µ)ï¼š4000å…ƒ\næµ·å‹¤åŠ çµ¦(å£«å®˜)ï¼š17500å…ƒ\né›¢å³¶åŠ çµ¦ï¼š7700å…ƒ\nğŸ’å„éšå¾…é‡ğŸ’\nå£«å…µèµ·è–ªï¼š52020å…ƒ\nå£«å®˜èµ·è–ªï¼š71650å…ƒ\nè»å®˜èµ·è–ªï¼š80760å…ƒ" )
        line_bot_api.reply_message(event.reply_token, message)   
    elif '%168'in msg:     
        message = TextSendMessage(text="âš“ æµ·è»ä¸€å…­å…«è‰¦éšŠ âš“\né§åœ°ï¼šè˜‡æ¾³è»æ¸¯\nä¸»åŠ›è»è‰¦ï¼š\nğŸ‡¹ğŸ‡¼ç´€å¾·ç´šé©…é€è‰¦ğŸ‡¹ğŸ‡¼\nåŸç‚ºç¾åœ‹æµ·è»ç´€å¾·ç´šé©…é€è‰¦ï¼ˆKidd classï¼‰ï¼Œé€™æ˜¯ç¨®ä»¥å²æ™®é­¯æ©æ–¯ç´šï¼ˆSpruance-classï¼‰é©…é€è‰¦çš„èˆ¹èº«ç‚ºåŸºç¤ï¼Œä½†é…ç½®ä¸åŒæ­¦è£èˆ‡é›»å­è¨­å‚™çš„æ”¹è‰¯ç‰ˆæœ¬ã€‚å¹³æ™‚åŸºéš†ç´šå°‡æ“”ä»»é‡è¦æµ·åŸŸåµæœå·¡é‚ä»»å‹™ï¼Œä¸¦æ“´å¤§å…¶ç›£åµç¯„åœä»¥å¢åŠ ä¸­è¯æ°‘åœ‹åœ‹è»é è­¦åæ‡‰æ™‚é–“ï¼›æˆ°æ™‚ä¸»è¦æ“”ä»»ç”±ä¸åŒä½œæˆ°è‰¦è‰‡çµ„æˆæµ·è»ä½œæˆ°è‰¦éšŠæ——è‰¦ï¼Œæ‰¼æ§é‡è¦æµ·åŸŸé˜»æ•µé€²çŠ¯ï¼Œä¸¦å¯ç‚ºé™¸åŸºä½œæˆ°ä¸­å¿ƒèˆ‡æˆ°ç®¡ä¸­å¿ƒé­å—ææ¯€æ™‚çš„å‚™æ´é˜²ç©ºæŒ‡æ®ç®¡åˆ¶ä»»å‹™ï¼Œé€²è¡Œè¯åˆåˆ¶ç©ºã€åˆ¶æµ·ä½œæˆ°ã€‚\nğŸ“ƒå‘½åæ–¹å¼ğŸ“ƒ\næœ€åˆå››è‰˜è»è‰¦çš„å‘½ååŸè¨ˆåŠƒæ²¿ç”¨æœ¬è‰¦ç¾è»è‰¦åçš„è­¯åç‚ºåï¼Œå†è¡ç”Ÿç‚ºã€Œå¾·å­—è™Ÿã€è€Œåˆ†åˆ¥ç‚ºã€Œç´€å¾·ã€ã€ã€Œæ˜å¾·ã€ã€ã€ŒåŒå¾·ã€ã€ã€Œæ­¦å¾·ã€ï¼Œä»¥å½°é¡¯æµ·è»ã€Œç´€å¾‹åš´æ˜ï¼ŒåŒæšæ­¦å¾·ã€ä¹‹è»é¢¨ã€‚ä½†2005å¹´ç«‹æ³•é™¢åšæˆæ±ºè­°ï¼Œè¦æ±‚ä»Šå¾Œè‰¦åå¿…é ˆä»¥å°ç£çš„äººåæˆ–åœ°åå‘½åï¼Œæ•…æˆè»æ™‚å„è‰¦æ”¹æˆä»¥å°ç£å››å¤§è»æ¸¯å‘½åã€é¦–å…©è‰˜è‰¦ã€å‰ç¾è»DDG-995åŠDDG-994ï¼Œæ–¼2005å¹´12æœˆæŠµé”è‡ºç£ï¼Œåˆ†åˆ¥å‘½åç‚ºã€ŒåŸºéš†ã€ï¼ˆDDG-1801ï¼‰èˆ‡ã€Œè˜‡æ¾³ã€(DDG-1802)ã€‚å‰ç¾è»DDG-993åŠDDG-996è‰¦å‰‡æ–¼2006å¹´10æœˆ25æ—¥æŠµé”è‡ºç£ï¼Œè¢«å‘½åç‚ºã€Œå·¦ç‡Ÿã€ï¼ˆDDG-1803ï¼‰èˆ‡ã€Œé¦¬å…¬ã€ï¼ˆDDG-1805ï¼‰ã€‚ä¾æ“šå‘½åè»è‰¦ç´šåˆ¥çš„å‚³çµ±ï¼Œä¸­è¯æ°‘åœ‹æµ·è»å°å…¶çš„æ­£å¼å‘½åç‚ºåŸºéš†ç´šé©…é€è‰¦ã€‚\n-âš“åŒç´šè‰¦(èˆ·è™Ÿ)âš“-\nåŸºéš†è»è‰¦(DDG-1801)\nè˜‡æ¾³è»è‰¦(DDG-1802)\nå·¦ç‡Ÿè»è‰¦(DDG-1803)\né¦¬å…¬è»è‰¦(DDG-1805)\nğŸ’°è–ªè³‡å¾…é‡ğŸ’°\næˆ°é¬¥åŠ çµ¦ï¼š5000å…ƒ\næµ·å‹¤åŠ çµ¦(å£«å…µ)ï¼š4000å…ƒ\næµ·å‹¤åŠ çµ¦(å£«å®˜)ï¼š17500å…ƒ\nğŸ’å„éšå¾…é‡ğŸ’\nå£«å…µèµ·è–ªï¼š44320å…ƒ\nå£«å®˜èµ·è–ªï¼š63950å…ƒ\nè»å®˜èµ·è–ªï¼š73060å…ƒ\n \n \nğŸ‡¹ğŸ‡¼æ¿Ÿé™½ç´šå·¡é˜²è‰¦ğŸ‡¹ğŸ‡¼\nç‚ºä¸­è¯æ°‘åœ‹æµ·è»åœ¨1990å¹´ä»£åˆå‘ç¾åœ‹æµ·è»ç§Ÿå€Ÿä¹‹è«¾å…‹æ–¯ç´šå·¡é˜²è‰¦ç¶“éå¾ŒçºŒæ”¹è‰¯è€Œæˆçš„è‰¦å‹ï¼Œæœ¬ç´šè‰¦çš„è¨­è¨ˆä»¥é æ´‹åæ½›èƒ½åŠ›è‘—ç¨±ï¼Œåœ¨ä¸­è¯æ°‘åœ‹æµ·è»æœå½¹ä»¥ä¾†ä¸»è¦è² æ“”å°ç£æ±åŒ—éƒ¨è‡³æ±éƒ¨æµ·åŸŸçš„å·¡é˜²ä»»å‹™ï¼Œå¤šæ¬¡åµæ¸¬è¡Œç¶“å°ç£æ±éƒ¨æµ·åŸŸä¹‹å„åœ‹æ½›è‰¦ã€‚\nğŸ“ƒå‘½åæ–¹å¼ğŸ“ƒ\nä¾æ“šåœ°åå‘½åæ³•ï¼Œ8è‰˜æ¿Ÿé™½ç´šå·¡é˜²è‰¦åˆ†åˆ¥å‘½åç‚ºæ¿Ÿé™½(èˆ·è™Ÿ932)ã€é³³é™½(èˆ·è™Ÿ933)ã€æ±¾é™½(èˆ·è™Ÿ934)ã€è˜­é™½(èˆ·è™Ÿ935)ã€æµ·é™½(èˆ·è™Ÿ936)ã€æ·®é™½(èˆ·è™Ÿ937)ã€å®œé™½(èˆ·è™Ÿ938)ã€å¯§é™½(èˆ·è™Ÿ939)ã€‚\n-âš“åŒç´šè‰¦(èˆ·è™Ÿ)âš“-\næ¿Ÿé™½è»è‰¦(FFG-932)(å·²é™¤å½¹)\né³³é™½è»è‰¦(FFG-933)\næ±¾é™½è»è‰¦(FFG-934)\nè˜­é™½è»è‰¦(FFG-935)\næµ·é™½è»è‰¦(FFG-936)(å·²é™¤å½¹)\næ·®é™½è»è‰¦(FFG-937)\nå¯§é™½è»è‰¦(FFG-938)\nå®œé™½è»è‰¦(FFG-939)\nğŸ’°è–ªè³‡å¾…é‡ğŸ’°\næˆ°é¬¥åŠ çµ¦ï¼š5000å…ƒ\næµ·å‹¤åŠ çµ¦(è‰™é¢å£«å…µ)ï¼š4000å…ƒ\næµ·å‹¤åŠ çµ¦(è‰™åº•å£«å…µ)ï¼š10000å…ƒ\næµ·å‹¤åŠ çµ¦(å£«å®˜)ï¼š17500å…ƒ\nğŸ’å„éšå¾…é‡ğŸ’\nè‰™é¢å£«å…µèµ·è–ªï¼š44320å…ƒ\nè‰™åº•å£«å…µèµ·è–ªï¼š50320\nå£«å®˜èµ·è–ªï¼š63950å…ƒ\nè»å®˜èµ·è–ªï¼š73060å…ƒ" )
        line_bot_api.reply_message(event.reply_token, message)          
    else:
        message = TextSendMessage(text="ä½ èªªçš„æ˜¯ä¸æ˜¯:" + event.message.text)
        line_bot_api.reply_message(event.reply_token, message)


@handler.add(PostbackEvent)
def handle_message(event):
    print(event.postback.data)


@handler.add(MemberJoinedEvent)
def welcome(event):
    uid = event.joined.members[0].user_id
    gid = event.source.group_id
    profile = line_bot_api.get_group_member_profile(gid, uid)
    name = profile.display_name
    message = TextSendMessage(text=f'{name}æ­¡è¿åŠ å…¥')
    line_bot_api.reply_message(event.reply_token, message)
        
        
import os
if __name__ == "__main__":
    port = int(os.environ.get('PORT', 5000))
    app.run(host='0.0.0.0', port=port)


